<!DOCTYPE html>
<html lang="en" xmlns:jad="https://jadaptive.com/jadaptive">
<body>
<div class="col-12">
	<p class="alert alert-info"><i class="far fa-info"></i> <span jad:bundle="publicUploadWizard" jad:i18n="options.desc"></span></p>
</div>
<div id="feedback" class="col-12"></div>
<div class="col-12" id="content">
<div class="col-12" jad:id="objectRenderer" jad:handler="publicUploadWizard" jad:resourceKey="publicUploadOptions"></div>
</div>
<div>
<script type="text/javascript">

 $(function() {
	 
	
		 Wizard.initStep('publicUploadWizard', function(success, cancel) {

			 $.ajax({
		           type: "POST",
		           url: $('form').attr('action'),
		           cache: false,
		           contentType: false,
		    	   processData: false,
		           data: new FormData($("form")[0]),
		           dataType: 'json',
		           success: function(data)
		           {
		           	   	if(data.success) {
		           			success();
		           	   	} else {
		           	    	JadaptiveUtils.error($('#feedback'), data.message);
		           	   	}
		           },
		           complete: function() {
						cancel();
		           }
		      });
	 });
 });
</script>
</div>
</body>
</html>