<!DOCTYPE html>
<html lang="en" xmlns:jad="https://jadaptive.com/jadaptive">
<body>
<div class="col-12">
	<p class="alert alert-info"><i class="far fa-info"></i> <span jad:bundle="chooseFilesystem" jad:i18n="chooseFilesystem.summary"></span></p>
</div>
<div id="feedback" class="col-12"></div>
<div class="row mt-5" id="content">
	<div class="ms-3">
		<form action="/app/api/form/setup/chooseFilesystem">
			
			<div class="col-md-12 mb-3">
				<h3> <i class="far fa-home me-3"></i><span jad:bundle="chooseFilesystem" jad:i18n="choice1.header"></span></h3>
				<p class="mt-3"><input type="checkbox" class="choose" name="c1" value="1">
				<span jad:bundle="chooseFilesystem" jad:i18n="choice1.paragraph"></span></p>
			</div>

			
			<div class="col-md-12 mb-3">
				<h3> <i class="far fa-hdd me-3"></i><span jad:bundle="chooseFilesystem" jad:i18n="choice2.header"></span></h3>
				<p class="mt-3"><input type="checkbox" class="choose" name="c2" value="2">
				<span jad:bundle="chooseFilesystem" jad:i18n="choice2.paragraph"></span></p>
			</div>
			
			
			<div class="col-md-12 mb-3">
				<h3> <i class="far fa-clock me-3"></i><span jad:bundle="chooseFilesystem" jad:i18n="choice3.header"></span></h3>
				<p class="mt-3"><input type="checkbox" class="choose" name="c3" value="3">
				<span jad:bundle="chooseFilesystem" jad:i18n="choice3.paragraph"></span></p>
			</div>
			
			
			<input type="hidden" id="filesystemType" name="filesystemType" value="1">
		</form>
	</div>
</div>
<div>
<script type="text/javascript">

 $(function() {
	
		 $('.choose').change(function(e) {
			 debugger;
			$('.choose').prop('checked', false);
			$(this).prop('checked', true);
			$('#filesystemType').val($(this).val());
		 });
		 
		 $('.choose').each(function(idx, obj) {
			 if($(this).val() == $('#filesystemType').val()) {
				 $(this).prop('checked', true);
			 }
		 });
		 
		 Wizard.initStep('setup', function(success, cancel) {
		 
		 $.ajax({
	           type: "POST",
	           url: $('form').attr('action'),
	           cache: false,
	           contentType: false,
	    	   processData: false,
	           data: new FormData($("form")[0]),
	           dataType: 'json',
	           success: function(data)
	           {
	           	   	if(data.success) {
	           			success();
	           	   	} else {
	           	    	JadaptiveUtils.error($('#feedback'), data.message);
	           	   	}
	           },
	           complete: function() {
					cancel();
	           }
	      });

	 });
 });
</script>
</div>
</body>
</html>